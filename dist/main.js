!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";function n(e){return e=1===(e=""+e).length?"0"+e:e}o.r(t);const r=(e,t)=>n(e)+" "+t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]];var a=()=>{document.querySelector(".menu");const e=document.querySelector("menu");e.querySelector(".close-btn"),e.querySelectorAll("ul>li");document.addEventListener("click",o=>{let n=o.target;n.closest(".menu")?e.classList.toggle("active-menu"):(n.closest(".close-btn")&&e.classList.toggle("active-menu"),n.closest(".active-menu")||e.classList.remove("active-menu"),"A"!==n.tagName.toUpperCase()||n.closest(".close-btn")||n.closest(".portfolio-btn")||t(o))});const t=t=>{e.classList.remove("active-menu");let o,n=t.target.hash.substr(1),r=document.querySelector("."+n).offsetTop;t.target.href="#";let a=()=>{window.pageYOffset<=r?(o=requestAnimationFrame(a),scrollBy(0,80)):cancelAnimationFrame(o)};a()}};var s=()=>{const e=document.querySelector(".popup");document.addEventListener("click",t=>{let o=t.target;o.closest(".popup-btn")&&(()=>{if(document.documentElement.clientWidth<=768)e.style.display="block";else{e.style.display="block",e.style.opacity=0;let t=0;const o=()=>{if(t<1){requestAnimationFrame(o);t+=.04,e.style.opacity=t}else cancelAnimationFrame(void 0)};o()}})(),o.closest(".popup-close")&&(()=>{let t=1;const o=()=>{let n;t>0?(n=requestAnimationFrame(o),t-=.08,e.style.opacity=t):(cancelAnimationFrame(n),e.style.display="none")};o()})(),o.closest(".popup-content")||o.closest(".form-btn")||(()=>{let t=1;const o=()=>{let n;t>0?(n=requestAnimationFrame(o),t-=.3,e.style.opacity=t):(cancelAnimationFrame(n),e.style.display="none")};o()})()})};var c=()=>{const e=document.querySelector("main>a"),t=document.querySelector(".service-block"),o=(document.querySelector("body"),t.offsetTop);let n;e.href="#";let r=()=>{window.pageYOffset<o?(n=requestAnimationFrame(r),(void 0).scrollBy(0,20)):cancelAnimationFrame(n)};e.addEventListener("click",r)};var l=()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",e=>{let n=e.target;n=n.closest(".service-header-tab"),t.forEach((e,r)=>{var a;e===n&&(a=r,o.forEach((e,n)=>{a===n?(e.classList.remove("d-none"),t[n].classList.add("active"),o.forEach(e=>{if(!e.classList.contains("d-none")){e.style.opacity=0;let t=0;const o=()=>{let n;t<=1?(n=requestAnimationFrame(o),t+=.04,e.style.opacity=t):cancelAnimationFrame(n)};o()}})):(e.classList.add("d-none"),t[n].classList.remove("active"))}))})})};var i=()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-dots")),o=document.querySelector(".portfolio-content");let n,r=document.querySelectorAll(".dot"),a=0;const s=(e,t,o)=>{e[t].classList.remove(o)},c=(e,t,o)=>{e[t].classList.add(o)},l=()=>{s(e,a,"portfolio-item-active"),s(r,a,"dot-active"),a++,a>=e.length&&(a=0),c(e,a,"portfolio-item-active"),c(r,a,"dot-active")},i=()=>{((e=3e3)=>{n=setInterval(l,e)})()};o.addEventListener("click",()=>{event.preventDefault();let t=event.target;t.matches(".portfolio-btn",".dot")&&(s(e,a,"portfolio-item-active"),s(r,a,"dot-active"),t.matches("#arrow-right")?a++:t.matches("#arrow-left")?a--:t.matches(".dot")&&r.forEach((e,o)=>{e===t&&(a=o)}),a>=e.length&&(a=0),a<0&&(a=e.length-1),c(e,a,"portfolio-item-active"),c(r,a,"dot-active"))}),o.addEventListener("mouseover",e=>{let t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&clearInterval(n)}),o.addEventListener("mouseout",e=>{let t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&i()});(()=>{let o;e.forEach((e,n)=>{n>0?(o=document.createElement("li"),o.classList.add("dot"),t.appendChild(o)):(o=document.createElement("li"),o.classList.add("dot"),o.classList.add("dot-active"),t.appendChild(o))}),r=document.querySelectorAll(".dot")})(),i()};var m=()=>{document.addEventListener("mouseover",e=>{let t=e.target;t.closest(".command__photo")&&(e=>{const t=e.getAttribute("src");e.style.opacity=0,!e.hasAttribute("data-img")||(e.src=e.dataset.img);let o=0;const n=()=>{let t;o<=1?(t=requestAnimationFrame(n),o+=.02,e.style.opacity=o):cancelAnimationFrame(t)};n(),e.setAttribute("data-img",t)})(t)}),document.addEventListener("mouseout",e=>{let t=e.target;t.closest(".command__photo")&&(e=>{const t=e.getAttribute("src");e.style.opacity=0,!e.hasAttribute("data-img")||(e.src=e.dataset.img);let o=0;const n=()=>{let t;o<=1?(t=requestAnimationFrame(n),o+=.04,e.style.opacity=o):cancelAnimationFrame(t)};n(),e.setAttribute("data-img",t)})(t)})};var u=(e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),s=document.querySelector("#total"),c=e=>{let t=0,c=1,l=1;const i=o.options[o.selectedIndex].value,m=+n.value;a.value>1&&(c+=(a.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),i&&m&&(t=e*i*m*c*l),(e=>{let t=0;const o=()=>{if(t<e){requestAnimationFrame(o);t+=50,s.textContent=t}else cancelAnimationFrame(void 0)};o()})(t)};t.addEventListener("change",t=>{const s=t.target;s!==o&&s!==n&&s!==r&&s!==a||c(e)}),document.addEventListener("input",e=>{let t=e.target;t!==o&&t!==n&&t!==r&&t!==a||(t.value=t.value.replace(/[^0-9]/,""))})};function d(e,t="+7 (___) ___-__-__"){const o=document.querySelector(e);function n(e){const o=e.keyCode,n=t,r=n.replace(/\D/g,""),a=this.value.replace(/\D/g,"");let s=0,c=n.replace(/[_\d]/g,(function(e){return s<a.length?a.charAt(s++)||r.charAt(s):e}));s=c.indexOf("_"),-1!=s&&(c=c.slice(0,s));let l=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");l=new RegExp("^"+l+"$"),(!l.test(this.value)||this.value.length<5||o>47&&o<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}o.addEventListener("input",n),o.addEventListener("focus",n),o.addEventListener("blur",n)}var p=()=>{const e=document.createElement("div"),t=document.createElement("img");let o={};e.style.cssText="font-size: 4rem;";document.addEventListener("submit",n=>{n.preventDefault();const r=n.target;if(r.querySelector("#"+r.id+"-name").matches(".error")||r.querySelector("#"+r.id+"-email").matches(".error")||r.querySelector("#"+r.id+"-phone").matches(".error")||r.querySelector("#"+r.id+"-message")&&r.querySelector("#"+r.id+"-message").matches(".error"))return;r.appendChild(e),e.appendChild(t).style.display="none",new FormData(r).forEach((e,t)=>{o[t]=e}),t.style.display="inline-block",t.src="./images/1.gif";(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)}))(o).then(o=>{if(!o.ok)throw new Error(o.textContent);t.style.display="none",e.textContent="Ваша заявка получена",(e=>{e.querySelector("#"+e.id+"-name").value="",e.querySelector("#"+e.id+"-email").value="",e.querySelector("#"+e.id+"-phone").value="",e.querySelector("#"+e.id+"-message")&&(e.querySelector("#"+e.id+"-message").value="")})(r)}).catch(t=>e.textContent="Что то пошло не так")})};class y{constructor({selector:e,pattern:t={},method:o}){this.form=document.querySelector(e),this.pattern=t,this.method=o,this.elementsForm=[...this.form.elements].filter(e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type.toLowerCase()),this.error=new Set}init(){this.applyStyle(),this.elementsForm.forEach(e=>e.addEventListener("change",this.checkIt.bind(this))),this.setPattern(),this.form.addEventListener("submit",e=>{this.error.size?e.preventDefault():this.elementsForm.forEach(e=>{this.checkIt({target:e})})})}isValid(e){const t={notEmpty:e=>""!==e.value.trim(),pattern:(e,t)=>t.test(e.value)};if(this.method){const o=this.method[e.id];if(o)return o.every(o=>t[o[0]](e,this.pattern[o[1]]));console.warn("необходимо передать id  и методы проверки для этих полей, валидация всегда true")}return!0}checkIt(e){const t=e.target;this.isValid(t)?(this.showSuccess(t),this.error.delete(t)):(this.showError(t),this.error.add(t))}showError(e){if(e.classList.remove("success"),e.classList.add("error"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error"))return;const t=document.createElement("div");t.textContent="Введенное значение не корректно",t.classList.add("validator-error"),e.insertAdjacentElement("afterend",t)}showSuccess(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()}applyStyle(){const e=document.createElement("style");e.textContent="\n            input.success {\n                border: 2px solid green\n            }\n           \n            input.error {\n                border: 2px solid red!important\n            }\n            .validator-error {\n                font-size: 12px;\n                color: red;\n            }\n\n        ",document.head.appendChild(e)}setPattern(){this.pattern.phone||(this.pattern.phone=/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/),this.pattern.email||(this.pattern.email=/.+@.+\..+/i)}}(function e(t){let o=document.querySelector("#timer-hours"),a=document.querySelector("#timer-days"),s=(document.querySelector("#timer-day-site"),document.querySelector("#timer-minutes")),c=document.querySelector("#timer-seconds"),l=()=>{let t=new Date;t.setHours(t.getHours()+(24-t.getHours())),t.setMinutes("00"),t.setSeconds(t.getSeconds()),e(t)},i=()=>{clearInterval(u)};function m(){let e=function(){let e=(new Date(t).getTime()-(new Date).getTime())/1e3,o=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/60/60),a=Math.floor(e/60/60/24);return e<=0?(i(),l(),{hours:0,minutes:0,seconds:0,day:0}):{day:a,hours:r,minutes:n,seconds:o,timeRemaining:e}}();0!==e.day?a.textContent=r(e.day,["день","дня","дней"]):a.style.display="none",0!==e.hours?o.textContent=n(e.hours-24*e.day):o.textContent=r(e.hours,[" ч"," ч"," ч"]),0!==e.minutes?s.textContent=n(e.minutes):s.textContent=r(e.minutes,[" м"," м"," м"]),e.seconds,c.textContent=n(e.seconds)}let u=setInterval(()=>{m()},1e3)})("8 mart 2020 12:15"),a(),s(),c(),l(),i(),m(),u(100),p(),d("#form1-phone"),d("#form2-phone"),d("#form3-phone"),new y({selector:"#form1",pattern:{youName:/^[А-ЯЁа-яё]*$/},method:{"form1-phone":[["notEmpty"],["pattern","phone"]],"form1-email":[["notEmpty"],["pattern","email"]],"form1-name":[["notEmpty"],["pattern","youName"]]}}).init(),new y({selector:"#form2",pattern:{youName:/^[А-ЯЁа-яё]*$/,youMessage:/^[А-ЯЁа-яё]*$/},method:{"form2-phone":[["notEmpty"],["pattern","phone"]],"form2-email":[["notEmpty"],["pattern","email"]],"form2-name":[["notEmpty"],["pattern","youName"]],"form2-message":[["notEmpty"],["pattern","youMessage"]]}}).init(),new y({selector:"#form3",pattern:{youName:/^[А-ЯЁа-яё]*$/,youMessage:/^[А-ЯЁа-яё]*$/},method:{"form3-phone":[["notEmpty"],["pattern","phone"]],"form3-email":[["notEmpty"],["pattern","email"]],"form3-name":[["notEmpty"],["pattern","youName"]],"form2-message":[["notEmpty"],["pattern","youMessage"]]}}).init()}]);